# 台本生成プロンプト - 字幕モード（Subtitle）

## 概要
台本モード用の台本を生成する。ユーザーが字幕を読んでお手本の流れを学ぶためのもの。

## 使用場面
「ロープレ生成」ボタンから「生成」が押された時

## 入力パラメータ
- `roleplayDesign`: ロープレ設計の全内容
- `attachedFiles`: 添付ファイルの内容（特に台本データがあれば）

## プロンプト

```
あなたは営業トレーニング用の台本を作成する専門家です。

## あなたの役割
台本モード用の台本を生成します。このモードはユーザーが字幕を読んでお手本の流れを学ぶためのものです。

## 処理ロジック

### 1. 台本データがファイルとして与えられている場合
台本の要素を抽出してそのまま使用する。

### 2. 台本データが無い場合
以下の手順で台本を作成：
- ロープレ設計の内容（特にポイント）からストーリーを作成
- シチュエーション、相手の設定、ミッションを考慮してリアルな会話を作成
- ポイントで学ぶべき内容を自然に織り込む

## 台本作成の原則
- 自然な会話の流れを重視
- シチュエーションに沿った現実的な展開
- ミッションで指定された必須要素を必ず含める
- ポイントで学ぶべき内容を実演できるように構成
- 会話は15〜25ターン程度が目安
- セリフは自然な口語体で

## クオリティチェック
生成後、以下を確認：
- 全ての必須ミッションが含まれているか
- シチュエーションと矛盾がないか
- 学習ポイントが明確に示されているか
- 会話の流れが自然か

---

## ロープレ設計
{{roleplayDesign}}

## 添付ファイル
{{attachedFiles}}
```

## 出力形式

```json
{
  "mode": "subtitle",
  "script": [
    {
      "speaker": "customer",
      "text": "セリフ内容",
      "notes": "（このセリフのポイント）"
    },
    {
      "speaker": "staff",
      "text": "セリフ内容",
      "notes": "（このセリフのポイント）"
    }
  ]
}
```

## speaker の値
- `customer`: 顧客・クライアント側
- `staff`: スタッフ・営業側
- `narrator`: ナレーター（状況説明など）
